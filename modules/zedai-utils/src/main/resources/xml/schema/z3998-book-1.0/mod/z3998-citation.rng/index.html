<html vocab="http://www.daisy.org/ns/pipeline/" typeof="source"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><meta charset="utf-8"/><meta http-equiv="content-language" content="en"/><link rel="stylesheet" type="text/css" href="http://daisy.github.io/pipeline/css/nxml-mode.css"/><link rel="shortcut icon" href="http://www.daisy.org/sites/default/files/favicon_0.ico"/><link rev="doc" href="../z3998-citation.rng"/></head><body><div class="code" about="../z3998-citation.rng">&lt;<span class="code-xml-element-local-name">grammar</span> <span class="code-xml-attribute-prefix">xmlns</span>=<span class="code-xml-attribute-value">"http://relaxng.org/ns/structure/1.0"</span> <span class="code-xml-attribute-prefix">xmlns:</span><span class="code-xml-attribute-local-name">z</span>=<span class="code-xml-attribute-value">"http://www.daisy.org/ns/z3998/annotations/#"</span> <span class="code-xml-attribute-prefix">xmlns:</span><span class="code-xml-attribute-local-name">a</span>=<span class="code-xml-attribute-value">"http://relaxng.org/ns/compatibility/annotations/1.0"</span> <span class="code-xml-attribute-prefix">xmlns:</span><span class="code-xml-attribute-local-name">sch</span>=<span class="code-xml-attribute-value">"http://purl.oclc.org/dsdl/schematron"</span> <span class="code-xml-attribute-prefix">xmlns:</span><span class="code-xml-attribute-local-name">db</span>=<span class="code-xml-attribute-value">"http://docbook.org/ns/docbook"</span> <span class="code-xml-attribute-prefix">xmlns:</span><span class="code-xml-attribute-local-name">xlink</span>=<span class="code-xml-attribute-value">"http://www.w3.org/1999/xlink"</span> <span class="code-xml-attribute-local-name">ns</span>=<span class="code-xml-attribute-value">"http://www.daisy.org/ns/z3998/authoring/"</span>&gt;
    &lt;<span class="code-xml-element-local-name">info</span> <span class="code-xml-attribute-prefix">xmlns</span>=<span class="code-xml-attribute-value">"http://docbook.org/ns/docbook"</span> <span class="code-xml-attribute-prefix">xml:</span><span class="code-xml-attribute-local-name">lang</span>=<span class="code-xml-attribute-value">"en"</span>&gt;
        &lt;<span class="code-xml-element-local-name">title</span>&gt;The citation module &lt;/<span class="code-xml-element-local-name">title</span>&gt;
        &lt;<span class="code-xml-element-local-name">annotation</span> <span class="code-xml-attribute-local-name">annotates</span>=<span class="code-xml-attribute-value">"/"</span>&gt;
            &lt;<span class="code-xml-element-local-name">para</span>&gt;This module defines the citation element for marking references to other works. &lt;/<span class="code-xml-element-local-name">para</span>&gt;
            &lt;<span class="code-xml-element-local-name">para</span>&gt;More information about this module is available at http://www.daisy.org/z3998/2012/auth/cm/#z3998.citation.module&lt;/<span class="code-xml-element-local-name">para</span>&gt;
        &lt;/<span class="code-xml-element-local-name">annotation</span>&gt;
        &lt;<span class="code-xml-element-local-name">author</span>&gt;
            &lt;<span class="code-xml-element-local-name">personname</span>&gt;Markus Gylling&lt;/<span class="code-xml-element-local-name">personname</span>&gt;
            &lt;<span class="code-xml-element-local-name">email</span>&gt;mgylling@daisy.org&lt;/<span class="code-xml-element-local-name">email</span>&gt;
        &lt;/<span class="code-xml-element-local-name">author</span>&gt;
        &lt;<span class="code-xml-element-local-name">copyright</span>&gt;
            &lt;<span class="code-xml-element-local-name">year</span>&gt;2009&lt;/<span class="code-xml-element-local-name">year</span>&gt;
            &lt;<span class="code-xml-element-local-name">year</span>&gt;2010&lt;/<span class="code-xml-element-local-name">year</span>&gt;
            &lt;<span class="code-xml-element-local-name">year</span>&gt;2011&lt;/<span class="code-xml-element-local-name">year</span>&gt;
            &lt;<span class="code-xml-element-local-name">year</span>&gt;2012&lt;/<span class="code-xml-element-local-name">year</span>&gt;
            &lt;<span class="code-xml-element-local-name">holder</span>&gt;DAISY Consortium&lt;/<span class="code-xml-element-local-name">holder</span>&gt;
        &lt;/<span class="code-xml-element-local-name">copyright</span>&gt;
        &lt;<span class="code-xml-element-local-name">legalnotice</span>&gt;
            &lt;<span class="code-xml-element-local-name">para</span>&gt;This module is licensed under a Creative Commons Attribution 3.0 license, a copy of which is available at 
                &lt;<span class="code-xml-element-local-name">link</span> <span class="code-xml-attribute-prefix">xlink:</span><span class="code-xml-attribute-local-name">href</span>=<span class="code-xml-attribute-value">"http://creativecommons.org/licenses/by/3.0/"</span>&gt;http://creativecommons.org/licenses/by/3.0/&lt;/<span class="code-xml-element-local-name">link</span>&gt;
            &lt;/<span class="code-xml-element-local-name">para</span>&gt;
            &lt;<span class="code-xml-element-local-name">para</span>&gt;For complete licensing information, please refer to the LICENSE file that came with this distribution, a copy of which is also available from the DAISY web site at 
                &lt;<span class="code-xml-element-local-name">link</span> <span class="code-xml-attribute-prefix">xlink:</span><span class="code-xml-attribute-local-name">href</span>=<span class="code-xml-attribute-value">"http://www.daisy.org"</span>&gt;www.daisy.org&lt;/<span class="code-xml-element-local-name">link</span>&gt;
            &lt;/<span class="code-xml-element-local-name">para</span>&gt;
        &lt;/<span class="code-xml-element-local-name">legalnotice</span>&gt;
        &lt;<span class="code-xml-element-local-name">revhistory</span>&gt;
            &lt;<span class="code-xml-element-local-name">revision</span>&gt;
                &lt;<span class="code-xml-element-local-name">date</span>&gt;2012-12-19&lt;/<span class="code-xml-element-local-name">date</span>&gt;
                &lt;<span class="code-xml-element-local-name">authorinitials</span>&gt;MGy&lt;/<span class="code-xml-element-local-name">authorinitials</span>&gt;
                &lt;<span class="code-xml-element-local-name">revdescription</span>&gt;
                    &lt;<span class="code-xml-element-local-name">para</span>&gt;Initial version&lt;/<span class="code-xml-element-local-name">para</span>&gt;
                &lt;/<span class="code-xml-element-local-name">revdescription</span>&gt;
            &lt;/<span class="code-xml-element-local-name">revision</span>&gt;
        &lt;/<span class="code-xml-element-local-name">revhistory</span>&gt;
    &lt;/<span class="code-xml-element-local-name">info</span>&gt;
    &lt;<span class="code-xml-element-local-name">div</span>&gt;
        &lt;<span class="code-xml-element-local-name">define</span> <span class="code-xml-attribute-local-name">name</span>=<span class="code-xml-attribute-value">"z3998.citation.block"</span>&gt;
            &lt;<span class="code-xml-element-local-name">element</span> <span class="code-xml-attribute-local-name">name</span>=<span class="code-xml-attribute-value">"citation"</span>&gt;
                &lt;<span class="code-xml-element-prefix">a:</span><span class="code-xml-element-local-name">documentation</span>&gt;The citation element represents an author's acknowledgment of the original author and/or work of a directly or indirectly borrowed idea, quote or other resource. Citations typically occur in conjunction with epigraphs, quotes, illustrations, charts and diagrams. The Block variant is an adaptation for use where the citation is offset from the quoted material. The optional ref attribute on the citation element is used to establish an explicit association between the citation and the passage or resource it references; the placement of the citation does not, by default, imply an association with any element in the document. Some elements do provide a mechanism for implied relationships, however (see the quote element, for example). When adding citations, refer to the documentation for the element the citation is being attached to for more information. A citation can also be linked to the work it cites by including a child ref element. A ref attribute can be attached to the nested ref element to reference a work in the current document's bibliography , for example. To reference other resources, including resources external to the current document, the xlink.href attribute must be used instead. &lt;/<span class="code-xml-element-prefix">a:</span><span class="code-xml-element-local-name">documentation</span>&gt;
                &lt;<span class="code-xml-element-local-name">ref</span> <span class="code-xml-attribute-local-name">name</span>=<span class="code-xml-attribute-value">"z3998.citation.block.attlist"</span>/&gt;
                &lt;<span class="code-xml-element-local-name">ref</span> <span class="code-xml-attribute-local-name">name</span>=<span class="code-xml-attribute-value">"z3998.citation.block.content"</span>/&gt;
            &lt;/<span class="code-xml-element-local-name">element</span>&gt;
        &lt;/<span class="code-xml-element-local-name">define</span>&gt;
        &lt;<span class="code-xml-element-local-name">define</span> <span class="code-xml-attribute-local-name">name</span>=<span class="code-xml-attribute-value">"z3998.citation.block.attlist"</span>&gt;
            &lt;<span class="code-xml-element-local-name">ref</span> <span class="code-xml-attribute-local-name">name</span>=<span class="code-xml-attribute-value">"z3998.Block.attrib"</span>/&gt;
            &lt;<span class="code-xml-element-local-name">optional</span>&gt;
                &lt;<span class="code-xml-element-local-name">choice</span>&gt;
                    &lt;<span class="code-xml-element-local-name">ref</span> <span class="code-xml-attribute-local-name">name</span>=<span class="code-xml-attribute-value">"z3998.ref.attrib"</span>/&gt;
                    &lt;<span class="code-xml-element-local-name">ref</span> <span class="code-xml-attribute-local-name">name</span>=<span class="code-xml-attribute-value">"xlink.attrib"</span>/&gt;
                &lt;/<span class="code-xml-element-local-name">choice</span>&gt;
            &lt;/<span class="code-xml-element-local-name">optional</span>&gt;
        &lt;/<span class="code-xml-element-local-name">define</span>&gt;
        &lt;<span class="code-xml-element-local-name">define</span> <span class="code-xml-attribute-local-name">name</span>=<span class="code-xml-attribute-value">"z3998.citation.block.content"</span>&gt;
            &lt;<span class="code-xml-element-local-name">ref</span> <span class="code-xml-attribute-local-name">name</span>=<span class="code-xml-attribute-value">"z3998.Phrase.Text.mix.model"</span>/&gt;
        &lt;/<span class="code-xml-element-local-name">define</span>&gt;
    &lt;/<span class="code-xml-element-local-name">div</span>&gt;
    &lt;<span class="code-xml-element-local-name">div</span>&gt;
        &lt;<span class="code-xml-element-local-name">define</span> <span class="code-xml-attribute-local-name">name</span>=<span class="code-xml-attribute-value">"z3998.citation"</span>&gt;
            &lt;<span class="code-xml-element-local-name">element</span> <span class="code-xml-attribute-local-name">name</span>=<span class="code-xml-attribute-value">"citation"</span>&gt;
                &lt;<span class="code-xml-element-prefix">a:</span><span class="code-xml-element-local-name">documentation</span>&gt;The citation element represents an author's acknowledgment of the original author and/or work of a directly or indirectly borrowed idea, quote or other resource. Citations typically occur in conjunction with epigraphs, quotes, illustrations, charts and diagrams. The Phrase variant is an adaptation for use where citations are included inline with the quoted material. The optional ref attribute on the citation element is used to establish an explicit association between the citation and the passage or resource it references; the placement of the citation does not, by default, imply an association with any element in the document. Some elements do provide a mechanism for implied relationships, however (see the quote element, for example). When adding citations, refer to the documentation for the element the citation is being attached to for more information. A citation can also be linked to the work it cites by including a child ref element. A ref attribute can be attached to the nested ref element to reference a work in the current document's bibliography , for example. To reference other resources, including resources external to the current document, the xlink.href attribute must be used instead. Parentheses, brackets and other enclosing characters should be included within the citation element if they must be retained in the file. The use of CSS for appending these characters is recommended, however, for the flexibility it allows to change the characters depending on the desired output. &lt;/<span class="code-xml-element-prefix">a:</span><span class="code-xml-element-local-name">documentation</span>&gt;
                &lt;<span class="code-xml-element-local-name">ref</span> <span class="code-xml-attribute-local-name">name</span>=<span class="code-xml-attribute-value">"z3998.citation.attlist"</span>/&gt;
                &lt;<span class="code-xml-element-local-name">ref</span> <span class="code-xml-attribute-local-name">name</span>=<span class="code-xml-attribute-value">"z3998.citation.content"</span>/&gt;
                &lt;<span class="code-xml-element-prefix">sch:</span><span class="code-xml-element-local-name">rule</span> <span class="code-xml-attribute-local-name">context</span>=<span class="code-xml-attribute-value">"default:citation"</span>&gt;
                    &lt;<span class="code-xml-element-prefix">sch:</span><span class="code-xml-element-local-name">assert</span> <span class="code-xml-attribute-local-name">test</span>=<span class="code-xml-attribute-value">"normalize-space(.) or *"</span>&gt;The citation element must neither be empty nor contain only whitespace. &lt;/<span class="code-xml-element-prefix">sch:</span><span class="code-xml-element-local-name">assert</span>&gt;
                &lt;/<span class="code-xml-element-prefix">sch:</span><span class="code-xml-element-local-name">rule</span>&gt;
                &lt;<span class="code-xml-element-prefix">sch:</span><span class="code-xml-element-local-name">rule</span> <span class="code-xml-attribute-local-name">context</span>=<span class="code-xml-attribute-value">"default:citation//default:ref[@ref]"</span>&gt;
                    &lt;<span class="code-xml-element-prefix">sch:</span><span class="code-xml-element-local-name">assert</span> <span class="code-xml-attribute-local-name">test</span>=<span class="code-xml-attribute-value">"some $entry in //default:bibliography/default:entry satisfies current()/@ref eq $entry/@xml:id "</span>&gt;The ref attribute on the ref element must refer to an entry in a bibliography when nested inside a citation element. &lt;/<span class="code-xml-element-prefix">sch:</span><span class="code-xml-element-local-name">assert</span>&gt;
                &lt;/<span class="code-xml-element-prefix">sch:</span><span class="code-xml-element-local-name">rule</span>&gt;
            &lt;/<span class="code-xml-element-local-name">element</span>&gt;
        &lt;/<span class="code-xml-element-local-name">define</span>&gt;
        &lt;<span class="code-xml-element-local-name">define</span> <span class="code-xml-attribute-local-name">name</span>=<span class="code-xml-attribute-value">"z3998.citation.attlist"</span>&gt;
            &lt;<span class="code-xml-element-local-name">ref</span> <span class="code-xml-attribute-local-name">name</span>=<span class="code-xml-attribute-value">"z3998.Phrase.attrib"</span>/&gt;
            &lt;<span class="code-xml-element-local-name">optional</span>&gt;
                &lt;<span class="code-xml-element-local-name">choice</span>&gt;
                    &lt;<span class="code-xml-element-local-name">ref</span> <span class="code-xml-attribute-local-name">name</span>=<span class="code-xml-attribute-value">"z3998.ref.attrib"</span>/&gt;
                    &lt;<span class="code-xml-element-local-name">ref</span> <span class="code-xml-attribute-local-name">name</span>=<span class="code-xml-attribute-value">"xlink.attrib"</span>/&gt;
                &lt;/<span class="code-xml-element-local-name">choice</span>&gt;
            &lt;/<span class="code-xml-element-local-name">optional</span>&gt;
        &lt;/<span class="code-xml-element-local-name">define</span>&gt;
        &lt;<span class="code-xml-element-local-name">define</span> <span class="code-xml-attribute-local-name">name</span>=<span class="code-xml-attribute-value">"z3998.citation.content"</span>&gt;
            &lt;<span class="code-xml-element-local-name">ref</span> <span class="code-xml-attribute-local-name">name</span>=<span class="code-xml-attribute-value">"z3998.Phrase.Text.mix.model"</span>/&gt;
        &lt;/<span class="code-xml-element-local-name">define</span>&gt;
    &lt;/<span class="code-xml-element-local-name">div</span>&gt;
    &lt;<span class="code-xml-element-local-name">div</span>&gt;
        &lt;<span class="code-xml-element-prefix">a:</span><span class="code-xml-element-local-name">documentation</span>&gt;citation - default content model contribution &lt;/<span class="code-xml-element-prefix">a:</span><span class="code-xml-element-local-name">documentation</span>&gt;
        &lt;<span class="code-xml-element-local-name">define</span> <span class="code-xml-attribute-local-name">name</span>=<span class="code-xml-attribute-value">"z3998.Block.core.class"</span> <span class="code-xml-attribute-local-name">combine</span>=<span class="code-xml-attribute-value">"choice"</span>&gt;
            &lt;<span class="code-xml-element-local-name">ref</span> <span class="code-xml-attribute-local-name">name</span>=<span class="code-xml-attribute-value">"z3998.citation.block"</span>/&gt;
        &lt;/<span class="code-xml-element-local-name">define</span>&gt;
        &lt;<span class="code-xml-element-local-name">define</span> <span class="code-xml-attribute-local-name">name</span>=<span class="code-xml-attribute-value">"z3998.Phrase.variant.class"</span> <span class="code-xml-attribute-local-name">combine</span>=<span class="code-xml-attribute-value">"choice"</span>&gt;
            &lt;<span class="code-xml-element-local-name">ref</span> <span class="code-xml-attribute-local-name">name</span>=<span class="code-xml-attribute-value">"z3998.citation"</span>/&gt;
        &lt;/<span class="code-xml-element-local-name">define</span>&gt;
    &lt;/<span class="code-xml-element-local-name">div</span>&gt;
&lt;/<span class="code-xml-element-local-name">grammar</span>&gt;</div></body></html>